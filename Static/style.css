:root { color-scheme: dark; --bg:#121212; --panel:#1e1e1e; --bar:#0e0e0e; --text:#eee; --muted:#aaa; --accent:#4d77ff; }
* { box-sizing:border-box; }
body { margin:0; background:var(--bg); color:var(--text); font:16px/1.4 system-ui, -apple-system, "Segoe UI", Roboto, Arial; }
.bar { display:flex; justify-content:space-between; gap:1rem; padding:.75rem 1rem; background:var(--bar); position:sticky; top:0; }
.grid { display:grid; gap:1rem; padding:1rem; grid-template-columns: 1fr 2fr; }
.panel { background:var(--panel); border-radius:8px; padding:1rem; min-height:60vh; overflow:auto; }
h3 { margin:0 0 .75rem; }
ul { list-style:none; padding:0; margin:0; }
.msgs li { padding:.25rem 0; }
.input-row { display:flex; gap:.5rem; margin-top:1rem; }
input { flex:1; padding:.6rem .7rem; border-radius:8px; border:1px solid #333; background:#111; color:var(--text); }
.btn { padding:.6rem .9rem; border-radius:8px; border:0; color:#fff; background:var(--accent); }
.btn.full { width:100%; }
.login { display:grid; place-items:center; min-height:100dvh; padding:1rem; }
.card { background:var(--panel); padding:1rem; border-radius:10px; width:min(480px, 100%); display:grid; gap:.6rem; }
.error { color:#ff6b6b; }
:root { color-scheme: dark; }
* { box-sizing: border-box; }
body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:#0e0f12; color:#e5e7eb; }

.topbar { display:flex; justify-content:space-between; align-items:center; padding:12px 14px; background:#111318; border-bottom:1px solid #1f2430; }
.grid { display:grid; gap:12px; grid-template-columns: 280px 1fr; padding:12px; }
.panel { background:#13161d; border:1px solid #1f2430; border-radius:10px; padding:12px; min-height:60vh; }
h3 { margin:0 0 8px; font-weight:600; color:#c9d1d9; }

ul { list-style:none; margin:0; padding:0; }
#users li.user { padding:6px 8px; border-bottom:1px solid #1b202b; display:flex; gap:8px; align-items:center; }
#users .name { font-weight:600; }
.badge { background:#7c3aed; color:white; padding:2px 6px; border-radius:6px; font-size:12px; }
.badge.small { font-size:10px; padding:1px 4px; }

.messages { display:flex; flex-direction:column; gap:10px; height: calc(60vh - 64px); overflow:auto; padding:6px; }
.message { position:relative; background:#0f1117; border:1px solid #1b202b; border-radius:8px; padding:8px 10px; }
.message .row { display:flex; gap:8px; align-items:center; margin-bottom:4px; }
.message .meta { color:#94a3b8; font-size:12px; }
.message .user { font-weight:600; }
.message .text { white-space:pre-wrap; word-wrap:break-word; }

.sendbar { display:flex; gap:8px; margin-top:10px; }
.sendbar input { flex:1; padding:10px 12px; border:1px solid #263042; border-radius:8px; background:#0f1117; color:#e5e7eb; }
.btn { display:inline-flex; align-items:center; gap:6px; padding:8px 12px; border-radius:8px; background:#222738; color:#e5e7eb; text-decoration:none; border:1px solid #2b3246; }
.btn.primary { background:#2563eb; border-color:#2563eb; }
.mini { position:absolute; right:8px; top:8px; padding:2px 6px; border-radius:6px; font-size:11px; border:1px solid #3b1f22; background:#2a1012; color:#fda4af; }
.mini.danger:hover { filter:brightness(1.2); }

@media (max-width: 700px) {
  .grid { grid-template-columns: 1fr; }
  .messages { height: 50vh; }
}