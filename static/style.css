/* ====== Theme ====== */
.site.theme-dark { background:#0d0d0d; color:#eaeaea; }
.site.theme-light { background:#f7f7f8; color:#0e141b; }

.theme-dark .panel, .theme-dark .topbar { background:#111; border-color:#1f2937; }
.theme-light .panel, .theme-light .topbar { background:#fff; border-color:#e5e7eb; }
.theme-light .messages li { background:#fff; border-color:#e5e7eb; }
.theme-light #msgInput { background:#fff; border-color:#cbd5e1; color:#0e141b; }

/* ====== Header / Footer ====== */
.site-header { display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:12px 16px; border-bottom:1px solid; position:sticky; top:0; z-index:10 }
.brand { display:flex; align-items:center; gap:10px; text-decoration:none; color:inherit; }
.logo-dot { width:10px; height:10px; border-radius:50%; background:#ef4444; display:inline-block; }
.nav { display:flex; align-items:center; gap:10px; }
.nav a { text-decoration:none; color:inherit; padding:6px 8px; border-radius:8px; }
.nav a:hover { background:rgba(255,255,255,.06); }
.btn { border:0; border-radius:.55rem; cursor:pointer; }
.btn.primary { background:#2563eb; color:#fff; padding:.5rem .8rem; }
.btn.subtle { background:transparent; color:inherit; padding:.5rem .6rem; border:1px solid transparent; }
.btn.subtle:hover { border-color:rgba(255,255,255,.15); }
.site-footer { text-align:center; padding:20px 10px; opacity:.8; }

/* ====== Cards / Alerts ====== */
.card { background:#111; border:1px solid #1f2937; border-radius:12px; padding:24px; }
.theme-light .card { background:#fff; border-color:#e5e7eb; }
.alert { background:#2a1010; border:1px solid #6b1d1d; padding:12px; border-radius:8px; margin-bottom:16px; }

/* ====== Login Page ====== */
.login-card { max-width:560px; margin:48px auto; }
.login-branding { text-align:center; padding:8px 12px 20px; }
.login-branding h1 { margin:0 0 8px; }
.form-grid { display:grid; gap:10px; }
.form-grid input, .form-grid select {
  padding:.6rem; border-radius:.5rem; border:1px solid #273244; background:#0b0f1a; color:#fff;
}
.theme-light .form-grid input, .theme-light .form-grid select { background:#fff; color:#0e141b; border-color:#cbd5e1; }
.btn.full { width:100%; }

/* ====== Layout ====== */
.topbar { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 16px; border-bottom:1px solid; }
.layout { display:grid; grid-template-columns: 260px 1fr; gap:16px; padding:16px; }
.panel { border:1px solid; border-radius:12px; overflow:hidden; }
.panel > h2 { margin:0; padding:10px 12px; border-bottom:1px solid; font-size:14px; opacity:.9; }

/* ====== Online list ====== */
.users { list-style:none; margin:0; padding:8px; max-height: calc(100vh - 220px); overflow:auto; }
.users li { display:flex; align-items:center; gap:8px; padding:8px 10px; border-radius:10px; cursor:pointer; }
.users li:hover { background:rgba(37,99,235,.08); }
.users .user-name { display:flex; align-items:center; gap:8px; }
.badge-mod { margin-left:auto; font-size:.7rem; padding:2px 6px; border:1px solid #eab308; color:#eab308; border-radius:999px; }
.users .g { margin-left:4px; opacity:.9; display:flex; align-items:center; gap:6px; }

/* ====== Messages ====== */
.messages { list-style:none; margin:0; padding:12px; height: calc(100vh - 240px); overflow:auto; display:flex; flex-direction:column; gap:10px; }
.messages li { background:#0f1117; border:1px solid #1f2937; border-radius:12px; padding:10px 12px; }
.msg-row { display:flex; align-items:center; gap:8px; }
.msg-row strong { color:inherit; }
.msg-time { margin-left:auto; font-size:12px; opacity:.7; }
.msg-text { margin-top:6px; white-space:pre-wrap; word-wrap:break-word; line-height:1.4; }

/* PMs */
.messages li.pm { border-color:#334155; background:#0f1522; }
.theme-light .messages li.pm { background:#f3f6ff; border-color:#c7d2fe; }

/* Delete button (mods) */
.mini.danger.msg-del { margin-left:8px; background:#7f1d1d; color:#fff; border:0; border-radius:8px; padding:2px 8px; cursor:pointer; font-size:.85rem; }
.mini.danger.msg-del:hover { filter:brightness(1.15); }

/* Composer */
.send { display:flex; gap:10px; padding:10px; border-top:1px solid; }
#msgInput { flex:1; padding:.7rem .8rem; border-radius:.6rem; border:1px solid #273244; background:#0b0f1a; color:#fff; }
#msgInput::placeholder { opacity:.6; }
.send button[type="submit"] { background:#2563eb; color:#fff; border:0; border-radius:.6rem; padding:.6rem 1rem; cursor:pointer; }
.send button[type="submit"]:hover { filter:brightness(1.08); }
.emoji-btn { background:#0b0f1a; color:inherit; border:1px solid #273244; border-radius:.5rem; padding:.4rem .6rem; }

/* Age Gate */
.age-gate { position:fixed; inset:0; background:#111; color:#fff; display:none; align-items:center; justify-content:center; z-index:99999; }
.age-gate-inner { max-width:520px; text-align:center; padding:24px; }
.noscript-warn { display:block; margin-top:12px; color:#ffb4b4; }

/* Cookie banner */
.cookie-banner { position:fixed; left:0; right:0; bottom:0; display:none; }
.cookie-banner .cookie-inner {
  margin: 0 auto 12px; max-width:800px; background:#111; border:1px solid #1f2937;
  padding:12px; border-radius:12px; display:flex; align-items:center; gap:12px; justify-content:space-between;
}
.theme-light .cookie-banner .cookie-inner { background:#fff; border-color:#e5e7eb; }
.cookie-banner[hidden] { display:none; }

/* Responsive */
@media (max-width: 900px) {
  .layout { grid-template-columns: 1fr; }
  .users { max-height: initial; }
  .messages { height: auto; max-height: 60vh; }
}
/* Avatars */
.avatar {
  width:28px; height:28px; border-radius:50%; object-fit:cover; display:inline-block; margin-right:8px;
  border:1px solid rgba(255,255,255,.15);
}
.theme-light .avatar { border-color: rgba(0,0,0,.1); }
.avatar-fallback {
  width:28px; height:28px; border-radius:50%; display:inline-flex; align-items:center; justify-content:center;
  color:#fff; font-weight:700; font-size:.85rem; margin-right:8px;
}

/* Reactions bar */
.reactions { display:flex; gap:8px; padding-top:6px; }
.rx-btn {
  display:inline-flex; align-items:center; gap:4px;
  padding:2px 6px; border-radius:999px; border:1px solid #273244;
  background:#0b0f1a; color:#eaeaea; cursor:pointer; font-size:.9rem;
}
.theme-light .rx-btn { background:#fff; border-color:#cbd5e1; color:#0e141b; }
.rx-btn:hover { filter:brightness(1.1); }
.rx-count {
  display:inline-block; min-width:18px; height:18px; border-radius:9px;
  background:#1f2937; color:#fff; font-size:.76rem; line-height:18px; text-align:center; padding:0 4px;
}
.theme-light .rx-count { background:#e5e7eb; color:#0e141b; }
/* === Avatar styling === */
.avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  object-fit: cover;
  display: inline-block;
  margin-right: 8px;
  border: 1px solid rgba(255,255,255,.15);
  vertical-align: middle;
}
.avatar-fallback {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-weight: 700;
  font-size: .85rem;
  margin-right: 8px;
  vertical-align: middle;
}

/* === Moderator badge === */
.badge-mod {
  background: #e11d48; /* red accent */
  color: #fff;
  padding: 2px 6px;
  margin-left: 6px;
  border-radius: 4px;
  font-size: .7rem;
  font-weight: 600;
}

/* === Gender info === */
.g {
  margin-left: 6px;
  font-size: .75rem;
  color: #94a3b8;
}
.g i {
  margin-right: 2px;
  font-size: .75rem;
  }

/* === Avatar styling === */
.avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  object-fit: cover;
  display: inline-block;
  margin-right: 8px;
  border: 1px solid rgba(255,255,255,.15);
  vertical-align: middle;
}
.avatar-fallback {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-weight: 700;
  font-size: .85rem;
  margin-right: 8px;
  vertical-align: middle;
}

/* === Moderator badge === */
.badge-mod {
  background: #e11d48; /* red accent */
  color: #fff;
  padding: 2px 6px;
  margin-left: 6px;
  border-radius: 4px;
  font-size: .7rem;
  font-weight: 600;
}

/* === Gender info === */
.g {
  margin-left: 6px;
  font-size: .75rem;
  color: #94a3b8;
}
.g i {
  margin-right: 2px;
  font-size: .75rem;
}

/* === Online list items === */
.users li {
  display: flex;
  align-items: center;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.15s ease;
}
.users li:hover {
  background: rgba(255,255,255,0.08);
  transform: translateX(2px);
}
.users li:active {
  transform: scale(0.97);
  }
